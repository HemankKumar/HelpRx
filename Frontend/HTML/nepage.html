<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <script src="script/angular.min.js"></script>
    <script>
      var module=angular.module("myModule",[]);
      module.controller("myController",function($scope,$http){
        $scope.cityJSONAry;
        $scope.fetchCities=function()
                {
                    var url="/get-angular-city-records";
                    $http.get(url).then(done,fail);
                    function done(response)
                        {
                            $scope.cityJSONAry=response.data;

                        }
                     function fail(response)
                        {
                                alert(response.data);
                        }   
                }   
                      $scope.selCity;

                      $scope.doShowSelCity=function(){
                          alert($scope.selCity.city);
                      }
     //==========================================================
     $scope.medJSONAry;
     $scope.fetchMeds=function()
                {
                    var url="/get-angular-med-records";
                    $http.get(url).then(done,fail);
                    function done(response)
                        {
                            $scope.medJSONAry=response.data;

                        }
                     function fail(response)
                        {
                                alert(response.data);
                        }   
                }  
                $scope.selMed;

                  $scope.doShowSelMed=function(){
                    alert($scope.selMed.med);
                  }
       //================================================
            
      })
  </script>
  <style>
    .container{
      display: flex;
    }
  </style>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  </head>
  <body ng-app="myModule" ng-controller="myController" ng-init="fetchCities();fetchMeds();">
    <nav class="navbar" style="background-color: #33006F;">
        <div class="container-fluid">
          <a class="navbar-brand" style="color: white; margin-left: 15px; font-size: 30px; font-family: Georgia, 'Times New Roman', Times, serif;">Medwale</a>
            <button class="btn btn-outline-light" style="margin-right: 10px; width: 120px; font-size: 20px;" type="submit">Logout</button> 
        </div>
      </nav>
      <center style="margin-top: 20px; color: #33006F;"><h1 style="font-size: 60px;">Look For a Medicine</h1></center>
      <div class="container mt-5">
        <div class="col-md-4">   
            <h2 style="font-size: 30px; color: #33006F;">Select City</h2>
            <select ng-options="obj.city for obj in cityJSONAry" style="height: 50px;font-size: 25px; width: 250px; color: #33006F;" ng-model="selCity" ng-change="doShowSelCity();" >
                <option value="">Select</option>
            </select>
          </div>
          <div class="col-md-4">   
            <h2 style="font-size: 30px; color: #33006F;">Select Medicine</h2>
            <select ng-options="obj.med for obj in medJSONAry" style="height: 50px;font-size: 25px; width: 250px; color: #33006F;" ng-model="selMed" ng-change="doShowSelMed();" >
                <option value="">Select</option>
            </select>
          </div>
          <div class="col-md-3"> 
            <input type="button" ng-click="showDonors(selCity,selMed)" class="btn btn-outline-dark" style="height: 50px; width: 300px; margin-top: 42px; color: #9589e8; font-size: 25px;" value="Show Donors">
          </div>
      </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  </body>
</html>